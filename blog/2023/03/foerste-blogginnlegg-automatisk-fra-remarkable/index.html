<!doctype html><html lang=no-nb><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Hvis du kan lese dette så har jeg lyktes i å få til følgende:
Skrive et innlegg på min reMarkable (med tastaturet Type Folio)
Sende teksten som epost til en egen epostadresse
Automatisk tagge eposten som et nytt innlegg
Få Google Apps Script til å oppdage det nye innlegget og &ldquo;commite&rdquo; det til riktig sted på Github slik at det dukker opp på bloggen
(samt et ørlite manuelt kvalitetssikringssteg inni der som jeg kan gjøre fra mobiltelefonen)"><meta name=color-scheme content="light dark"><meta itemprop=name content="Første blogginnlegg automatisk fra reMarkable"><meta itemprop=description content="Hvis du kan lese dette så har jeg lyktes i å få til følgende:
Skrive et innlegg på min reMarkable (med tastaturet Type Folio)
Sende teksten som epost til en egen epostadresse
Automatisk tagge eposten som et nytt innlegg
Få Google Apps Script til å oppdage det nye innlegget og &ldquo;commite&rdquo; det til riktig sted på Github slik at det dukker opp på bloggen
(samt et ørlite manuelt kvalitetssikringssteg inni der som jeg kan gjøre fra mobiltelefonen)"><meta itemprop=datePublished content="2023-03-23T11:50:00+01:00"><meta itemprop=dateModified content="2023-03-23T11:50:00+01:00"><meta itemprop=wordCount content="350"><meta itemprop=keywords content="remarkable,koding,"><meta name=generator content="Hugo 0.111.3"><title>Første blogginnlegg automatisk fra reMarkable | forvaltningsinformatiker Steinar Skagemo</title><link rel=canonical href=https://skagemo.no/blog/2023/03/foerste-blogginnlegg-automatisk-fra-remarkable/><link rel=stylesheet href=/css/base.min.f869241f0a1aef52fd0afb0a234047218fb3a6f205e43ecddbe78b6a107f596a.css integrity="sha256-+GkkHwoa71L9CvsKI0BHIY+zpvIF5D7N2+eLahB/WWo=" crossorigin=anonymous></head><body><nav class=u-background><div class=u-wrapper><ul class=Banner><li class="Banner-item Banner-item--title"><h1 class=Banner-heading><a class="Banner-link u-clickable" href=/>forvaltningsinformatiker Steinar Skagemo</a></h1></li><li class=Banner-item><a class="Banner-link u-clickable" href=/om>Om</a></li><li class=Banner-item><a class="Banner-link u-clickable" href=/blog/>Blogg</a></li><li class=Banner-item><a class="Banner-link u-clickable" href=/tags/>Tema</a></li><li class=Banner-item><a class="Banner-link u-clickable" href=/index.xml>RSS</a></li></ul></div></nav><main><div class=u-wrapper><div class=u-padding><article><header class=Heading><h2 class=Heading-title><a class="Heading-link u-clickable" href=/blog/2023/03/foerste-blogginnlegg-automatisk-fra-remarkable/ rel=bookmark>Første blogginnlegg automatisk fra reMarkable</a></h2><time datetime=2023-03-23T11:50:00+01:00>23 March, 2023</time></header><p>Hvis du kan lese dette så har jeg lyktes i å få til følgende:</p><ol><li><p>Skrive et innlegg på min reMarkable (med tastaturet Type Folio)</p></li><li><p>Sende teksten som epost til en egen epostadresse</p></li><li><p>Automatisk tagge eposten som et nytt innlegg</p></li><li><p>Få Google Apps Script til å oppdage det nye innlegget og &ldquo;commite&rdquo; det
til riktig sted på Github slik at det dukker opp på bloggen</p></li></ol><p>(samt et ørlite manuelt kvalitetssikringssteg inni der som jeg kan gjøre
fra mobiltelefonen)</p><p>En liten fun-fact er at jeg trengte litt kode for å lage et filnavn basert
på innholdet i teksten. Ikke veldig avansert, men likevel noe som krevde
noen få linjer JavaScript-kode (Google Apps Script bruker JavaScript). Jeg
regnet med at jeg ville klare å finne det ut siden jeg kjenner til hvordan
man gjør det med Python, men sånt tar alltid litt tid og mye prøving og
feiling.</p><p>Da slo det meg at det finnes en venn for slike anledninger; OpenAIs
ChatGPT. Så jeg skrev koden i Python og testet at den gjorde det jeg ville,
og så ba jeg bare om å få den samme koden som JavaScript. Det fungerte
feilfritt på første forsøk :-)</p><p>Enda en grunn til å lære Python; du kan få hjelp av ChatGPT til å skrive
det om til JavaScript, og kanskje andre programmeringsspråk også, hvis du
trenger det senere. (Vel, det samme argumentet kan sikkert brukes andre
veien også, men det overser jeg akkurat nå &mldr;)</p><p><em>Oppdatering - fra PC-en:</em></p><h3 id=nedenfor-er-dialogen-med-chatgpt><a class="Heading-link u-clickable" href=/blog/2023/03/foerste-blogginnlegg-automatisk-fra-remarkable/#nedenfor-er-dialogen-med-chatgpt>Nedenfor er dialogen med ChatGPT</a></h3><blockquote><p>Can you translate this python code to javascript?</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;testdata.txt&#39;</span>, mode<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;r&#39;</span>, encoding<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;utf-8&#39;</span>) <span style=color:#66d9ef>as</span> file:
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> file<span style=color:#f92672>.</span>read()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lines <span style=color:#f92672>=</span> data<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># finner linjen som starter med &#34;slug:&#34;, fjerner &#34;slug:&#34; og slår sammen resten </span>
</span></span><span style=display:flex><span> med bindestrek
</span></span><span style=display:flex><span> slug <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;-&#39;</span><span style=color:#f92672>.</span>join([line <span style=color:#66d9ef>for</span> line <span style=color:#f92672>in</span> lines <span style=color:#66d9ef>if</span> line<span style=color:#f92672>.</span>startswith(<span style=color:#e6db74>&#39;slug:&#39;</span>)][<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>6</span>:]<span style=color:#f92672>.</span>split(<span style=color:#e6db74>&#39; &#39;</span>))
</span></span><span style=display:flex><span>print(slug)</span></span></code></pre></div><p>Svar:</p><blockquote><p>Sure! Here&rsquo;s the JavaScript equivalent of the Python code:</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fs</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;fs&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>path</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#39;path&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>filePath</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>path</span>.<span style=color:#a6e22e>join</span>(<span style=color:#a6e22e>__dirname</span>, <span style=color:#e6db74>&#39;testdata.txt&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fs</span>.<span style=color:#a6e22e>readFileSync</span>(<span style=color:#a6e22e>filePath</span>, <span style=color:#e6db74>&#39;utf-8&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>lines</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39;\n&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// finner linjen som starter med &#34;slug:&#34;, fjerner &#34;slug:&#34; og slår sammen resten med bindestrek
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>slug</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>lines</span>.<span style=color:#a6e22e>filter</span>(<span style=color:#a6e22e>line</span> =&gt; <span style=color:#a6e22e>line</span>.<span style=color:#a6e22e>startsWith</span>(<span style=color:#e6db74>&#39;slug:&#39;</span>))[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>substring</span>(<span style=color:#ae81ff>6</span>).<span style=color:#a6e22e>split</span>(<span style=color:#e6db74>&#39; &#39;</span>).<span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#39;-&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>slug</span>);</span></span></code></pre></div><footer><ul class=Tags><li class="Tags-item u-background"><a class="Tags-link u-clickable" href=/tags/remarkable/ rel=tag>remarkable</a></li><li class="Tags-item u-background"><a class="Tags-link u-clickable" href=/tags/koding/ rel=tag>koding</a></li></ul></footer></article></div></div></main><footer class=Footer><div class=u-wrapper><div class=u-padding><em>Forvaltningsinformatiker Steinar Skagemo</em> i Brønnøysundregistrene: <a href="https://w2.brreg.no/enhet/sok/detalj.jsp?orgnr=982909392">982 909 392</a></div></div></footer></body></html>